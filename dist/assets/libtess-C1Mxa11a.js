import{p as k}from"./index-BAMY2Nnw.js";import{o as Bt}from"./_commonjsHelpers-BuiBZ9UO.js";import"./index-Dpuu2g5-.js";function Dt(g,b){for(var w=0;w<b.length;w++){const p=b[w];if(typeof p!="string"&&!Array.isArray(p)){for(const h in p)if(h!=="default"&&!(h in g)){const m=Object.getOwnPropertyDescriptor(p,h);m&&Object.defineProperty(g,h,m.get?m:{enumerable:!0,get:()=>p[h]})}}}return Object.freeze(Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}))}var ot,it={exports:{}};function $t(){return ot||(ot=1,g=it,b=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,w=function(p={}){var h,m,e=p;e.ready=new Promise(((t,r)=>{h=t,m=r}));var q=Object.assign({},e),L=typeof window=="object",x=typeof importScripts=="function";typeof k=="object"&&typeof k.versions=="object"&&k.versions.node;var U,l="";function ut(t){return e.locateFile?e.locateFile(t,l):l+t}(L||x)&&(x?l=self.location.href:typeof document<"u"&&document.currentScript&&(l=document.currentScript.src),b&&(l=b),l=l.indexOf("blob:")!==0?l.substr(0,l.replace(/[?#].*/,"").lastIndexOf("/")+1):"",x&&(U=t=>{var r=new XMLHttpRequest;return r.open("GET",t,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}));var E,T,ft=e.print||console.log.bind(console),A=e.printErr||console.error.bind(console);Object.assign(e,q),q=null,e.arguments&&e.arguments,e.thisProgram&&e.thisProgram,e.quit&&e.quit,e.wasmBinary&&(E=e.wasmBinary),typeof WebAssembly!="object"&&J("no native wasm support detected");var j,O,z=!1;function N(){var t=T.buffer;e.HEAP8=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAPU8=j=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAP32=new Int32Array(t),e.HEAPU32=O=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var Y=[],G=[],X=[];function st(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)pt(e.preRun.shift());B(Y)}function ct(){B(G)}function lt(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)mt(e.postRun.shift());B(X)}function pt(t){Y.unshift(t)}function ht(t){G.unshift(t)}function mt(t){X.unshift(t)}var d=0,R=null;function yt(t){var r;d++,(r=e.monitorRunDependencies)==null||r.call(e,d)}function dt(t){var o;if(d--,(o=e.monitorRunDependencies)==null||o.call(e,d),d==0&&R){var r=R;R=null,r()}}function J(t){var o;(o=e.onAbort)==null||o.call(e,t),A(t="Aborted("+t+")"),z=!0,t+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(t);throw m(r),r}var P,vt="data:application/octet-stream;base64,",K=t=>t.startsWith(vt);function Q(t){if(t==P&&E)return new Uint8Array(E);if(U)return U(t);throw"both async and sync fetching of the wasm failed"}function gt(t){return E||!L&&!x||typeof fetch!="function"?Promise.resolve().then((()=>Q(t))):fetch(t,{credentials:"same-origin"}).then((r=>{if(!r.ok)throw"failed to load wasm binary file at '"+t+"'";return r.arrayBuffer()})).catch((()=>Q(t)))}function V(t,r,o){return gt(t).then((n=>WebAssembly.instantiate(n,r))).then((n=>n)).then(o,(n=>{A(`failed to asynchronously prepare wasm: ${n}`),J(n)}))}function bt(t,r,o,n){return t||typeof WebAssembly.instantiateStreaming!="function"||K(r)||typeof fetch!="function"?V(r,o,n):fetch(r,{credentials:"same-origin"}).then((i=>WebAssembly.instantiateStreaming(i,o).then(n,(function(a){return A(`wasm streaming compile failed: ${a}`),A("falling back to ArrayBuffer instantiation"),V(r,o,n)}))))}function wt(){var t={a:xt};function r(n,i){return c=n.exports,T=c.i,N(),Z=c.m,ht(c.j),dt(),c}function o(n){r(n.instance)}if(yt(),e.instantiateWasm)try{return e.instantiateWasm(t,r)}catch(n){A(`Module.instantiateWasm callback failed with error: ${n}`),m(n)}return bt(E,P,t,o).catch(m),{}}K(P="libtess.wasm")||(P=ut(P));var B=t=>{for(;t.length>0;)t.shift()(e)};e.noExitRuntime;var Z,At=()=>{throw 1/0},Et=(t,r,o)=>j.copyWithin(t,r,r+o),Rt=()=>2147483648,Pt=t=>{var r=(t-T.buffer.byteLength+65535)/65536;try{return T.grow(r),N(),1}catch{}},St=t=>{var r=j.length;t>>>=0;var o=Rt();if(t>o)return!1;for(var n=(f,s)=>f+(s-f%s)%s,i=1;i<=4;i*=2){var a=r*(1+.2/i);a=Math.min(a,t+100663296);var u=Math.min(o,n(Math.max(t,a),65536));if(Pt(u))return!0}return!1},_t=[null,[],[]],tt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ht=(t,r,o)=>{for(var n=r+o,i=r;t[i]&&!(i>=n);)++i;if(i-r>16&&t.buffer&&tt)return tt.decode(t.subarray(r,i));for(var a="";r<i;){var u=t[r++];if(128&u){var f=63&t[r++];if((224&u)!=192){var s=63&t[r++];if((u=(240&u)==224?(15&u)<<12|f<<6|s:(7&u)<<18|f<<12|s<<6|63&t[r++])<65536)a+=String.fromCharCode(u);else{var I=u-65536;a+=String.fromCharCode(55296|I>>10,56320|1023&I)}}else a+=String.fromCharCode((31&u)<<6|f)}else a+=String.fromCharCode(u)}return a},It=(t,r)=>{var o=_t[t];r===0||r===10?((t===1?ft:A)(Ht(o,0)),o.length=0):o.push(r)},W=[],C=t=>{var r=W[t];return r||(t>=W.length&&(W.length=t+1),W[t]=r=Z.get(t)),r},xt={e:At,g:Et,f:St,c:(t,r,o,n)=>{for(var i=0,a=0;a<o;a++){var u=O[r>>2],f=O[r+4>>2];r+=8;for(var s=0;s<f;s++)It(t,j[u+s]);i+=f}return O[n>>2]=i,0},b:Ot,h:Wt,d:jt,a:Tt},c=wt();e._malloc=t=>(e._malloc=c.k)(t),e._free=t=>(e._free=c.l)(t),e._triangulate=(t,r,o,n,i,a)=>(e._triangulate=c.n)(t,r,o,n,i,a);var F,S=(t,r)=>(S=c.o)(t,r),_=()=>(_=c.p)(),H=t=>(H=c.q)(t);function Tt(t,r,o){var n=_();try{C(t)(r,o)}catch(i){if(H(n),i!==i+0)throw i;S(1,0)}}function jt(t,r){var o=_();try{C(t)(r)}catch(n){if(H(o),n!==n+0)throw n;S(1,0)}}function Ot(t,r){var o=_();try{return C(t)(r)}catch(n){if(H(o),n!==n+0)throw n;S(1,0)}}function Wt(t,r,o,n){var i=_();try{return C(t)(r,o,n)}catch(a){if(H(i),a!==a+0)throw a;S(1,0)}}function et(){function t(){F||(F=!0,e.calledRun=!0,z||(ct(),h(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),lt()))}d>0||(st(),d>0||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t()))}if(R=function t(){F||et(),F||(R=t)},e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();et();let D=null,y=null,v=null,M=null;const Ct=2,rt=4e3;let nt=0;const Ft=(t,r,o)=>{D||(D=e._triangulate);let n=e.HEAPF32;const i=e.HEAP32.BYTES_PER_ELEMENT,a=2,u=n.BYTES_PER_ELEMENT;o>nt&&(nt=o,v&&(e._free(v),v=0),y&&(e._free(y),y=0)),v||(v=e._malloc(o*u)),M||(M=e._malloc(rt*i));const f=o*Ct;y||(y=e._malloc(f*u)),n=e.HEAPF32,n.set(t,v/u),e.HEAP32.set(r,M/i);const s=f/a,I=D(v,M,Math.min(r.length,rt),a,y,s),Mt=I*a;n=e.HEAPF32;const Ut=n.slice(y/u,y/u+Mt),$={};return $.buffer=Ut,$.vertexCount=I,$};return e.triangulate=Ft,p.ready},g.exports=w),it.exports;var g,b,w}var at=$t();const zt=Dt({__proto__:null,default:Bt(at)},[at]);export{zt as l};
